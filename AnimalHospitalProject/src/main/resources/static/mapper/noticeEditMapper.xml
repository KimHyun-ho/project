<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.human.anihospital.mapper.NoticeEditMapper">
	<update id="updateNotice" parameterType="NoticeVO">
		    UPDATE Notice SET
				notice_subject = #{noticeSubject}, 
				notice_content = #{noticeContent}, 
				notice_update_date = now()
			WHERE
				seq_notice = #{seqNotice}
	</update>
	
	<select id="selectOneDetailNotice" resultType="NoticeOneDetailVO">
		SELECT 
			n.seq_notice AS seqNotice,
			d.doctor_name AS doctorName,
			a.animal_hospital_name AS animalHospitalName,
			date_format(n.notice_update_date, '%Y-%m-%d') AS noticeUpdateDate,
			n.notice_subject AS noticeSubject,
			n.notice_content AS noticeContent
		FROM 
			notice AS n join animalhospital AS a ON n.seq_animal_hospital = a.seq_animal_hospital
				 		join doctor AS d on n.seq_doctor = d.seq_doctor
		WHERE
			n.seq_notice = #{seqNotice}
	</select>
</mapper>               