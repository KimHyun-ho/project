<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
                        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.human.anihospital.mapper.DiagnosisMapper">
	<select id="selectDiagnosisAnimalInfo" resultType="kr.human.anihospital.vo.DiagnosisAnimalVO">
			select
				d.seq_diagnosis AS seqDiagnosis,
				a.seq_animal AS seqAnimal, 
				a.animal_picture AS animalPicture,
				a.animal_name AS animalName, 
				(DATE_FORMAT(NOW(), '%Y') - DATE_FORMAT(a.animal_age, '%Y')) AS animalAge, 
				a.animal_type AS animalType,
				a.animal_size AS animalSize,
				a.animal_gender AS animalGender,
				a.animal_weight AS animalWeight
			from
				diagnosis AS d inner JOIN Animal AS a ON d.seq_animal = a.seq_animal
			where
				d.seq_diagnosis = #{seqDiagnosis}
	</select>
</mapper>